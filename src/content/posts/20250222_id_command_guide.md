---
title:  【Unix】idコマンドの解説
published: 2025-02-22
description: ""
tags: [id]
category: Unix
draft: false
---
最終更新：2025-02-22



`id`コマンドは、Unix系システムにおいて現在のユーザーまたは指定したユーザーのユーザーID (UID) やグループID (GID) などの情報を表示するための基本コマンドである。ユーザーが自身または他のユーザーのID情報を確認する際に利用される。


## 主なオプションの詳細

- **なし**  
  引数を指定せずに実行すると、現在のユーザーに関する詳細な情報（実効ユーザーID、実ユーザーID、実効グループID、補助グループIDなど）が表示される。  
  例:
  ```bash
  id
  ```

- **`-u`, `--user`**  
  実効ユーザーID (euid) のみを表示する。  
  例:
  ```bash
  id -u
  ```

- **`-g`, `--group`**  
  実効グループID (egid) のみを表示する。  
  例:
  ```bash
  id -g
  ```

- **`-G`, `--groups`**  
  ユーザーが所属しているすべてのグループIDを表示する。  
  例:
  ```bash
  id -G
  ```

- **`-n`, `--name`**  
  数値の代わりに名前を表示する。このオプションは、`-u`, `-g`, `-G` と組み合わせて使用する。  
  例:
  ```bash
  id -un    # 実効ユーザー名を表示する
  id -gn    # 実効グループ名を表示する
  id -Gn    # 所属グループ名をすべて表示する
  ```

- **`-r`, `--real`**  
  実ユーザーIDまたは実グループIDを表示する場合に使用する。このオプションを用いることで、実効IDではなく、ログインしたユーザーの元々のIDが表示される。通常は `-u` や `-g` と組み合わせて使用する。  
  例:
  ```bash
  id -ru    # 実ユーザーIDを表示する
  id -rg    # 実グループIDを表示する
  ```

- **`-Z`**  
  SELinuxが有効なシステムにおいて、ユーザーのSELinuxセキュリティコンテキストを表示する。SELinuxの設定状況によってはこのオプションが利用可能である。  
  例:
  ```bash
  id -Z
  ```

- **ユーザー名の指定**  
  コマンドの引数にユーザー名を指定することで、そのユーザーのID情報を取得することも可能である。  
  例:
  ```bash
  id username
  ```


## ハンズオン

以下に、`id`コマンドを実際に使用する例を示す。

### 1. 現在のユーザーの詳細情報を表示

ターミナルにて次のコマンドを実行せよ。

```bash
id
```

実行結果は、以下のように表示される。実効ユーザーID、実ユーザーID、実効グループID、および補助グループIDが一覧となっている。

```
uid=1000(you) gid=1000(you) groups=1000(you),27(sudo),1001(developers)
```

### 2. 実効ユーザーIDのみを表示

実効ユーザーIDだけを確認したい場合、次のように実行する。

```bash
id -u
```

出力例:
```
1000
```

### 3. 実効グループIDおよび所属グループのすべてのIDを表示

実効グループIDのみを表示するには次のようにする。

```bash
id -g
```

そして、所属するすべてのグループIDを表示するには次のように実行せよ。

```bash
id -G
```

出力例:
```
1000 27 1001
```

### 4. 名前で表示する

数値の代わりに、ユーザー名やグループ名を表示したい場合は、`-n`オプションを付加する。例えば、実効ユーザー名は以下のように確認できる。

```bash
id -un
```

出力例:
```
you
```

また、実効グループ名および所属するすべてのグループ名は以下のように表示できる。

```bash
id -gn    # 実効グループ名
id -Gn    # 所属グループ名
```

### 5. 実IDの確認

実効IDではなく、実際のユーザーIDおよびグループIDを確認するには、`-r`オプションを使用する。例えば、実ユーザーIDは以下のように取得できる。

```bash
id -ru
```

出力例:
```
1000
```

### 6. 他ユーザーの情報を表示する

管理者権限または十分な権限がある場合、他のユーザーのID情報を取得することができる。例えば、`alice`というユーザーの情報を表示するには、以下のように実行せよ。

```bash
id alice
```

出力例:
```
uid=1001(alice) gid=1001(alice) groups=1001(alice),27(sudo)
```


