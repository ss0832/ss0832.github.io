---
title:  【Unix】lessコマンドの解説
published: 2025-02-22
description: ""
tags: [less]
category: Unix
draft: false
---
最終更新：2025-02-22

`less`コマンドは、Unix系システムにおいてテキストファイルを効率的に閲覧するためのページャーである。大量のテキストを素早く表示し、必要な情報へ迅速にアクセスできる点が特長である。


# 基本的な使い方

以下のようにしてファイルを閲覧する。

```bash
less filename.txt
```

これにより、`filename.txt`の内容がページ単位で表示される。表示中は多数のキーボード操作により、様々な移動や検索、編集への移行が可能である。


# 操作方法

## スクロールおよび移動

- **ページスクロール**  
  - `SPACE`キー：次のページへ進む。  
  - `b`キー：前のページに戻る。
- **行単位スクロール**  
  - `ENTER`キー：1行下にスクロールする。  
  - `y`キー：1行上にスクロールする。
- **任意の行数へ移動**  
  任意の行番号へ移動するには、行数を入力してから`g`を押す。例えば、`100g`と入力すれば100行目にジャンプする。  
  - `g`キー：ファイルの先頭に移動する。  
  - `G`キー：ファイルの末尾に移動する。

## 検索機能

- **前方検索**  
  `/pattern` と入力することで、`pattern`に一致する文字列をファイル内から前方に検索する。  
- **逆方向検索**  
  `?pattern` と入力することで、逆方向に検索を行う。  
- **検索結果の移動**  
  - `n`キー：次の検索結果へ移動する。  
  - `N`キー：前の検索結果へ移動する。

## 編集モードと閲覧モードの切り替え

`less`は基本的にファイルの閲覧を目的とするが、内部から直接エディタを起動し編集する機能を持つ。  
- **編集モードへの移行**  
  表示中のファイルを編集したい場合、`v`キーを押す。これにより、環境変数 `EDITOR` で指定されたエディタ（通常は `vi` や `vim`）が起動し、該当ファイルが編集できる。  
- **閲覧モードへの復帰**  
  エディタからの終了（通常は `:wq` や `:q` で終了）により、自動的に `less` の閲覧モードへ復帰する。


# ハンズオン

以下に実際の操作例を示す。

### 1. ファイルの閲覧

ターミナルにて以下のコマンドを実行する。

```bash
less example.txt
```

これにより、`example.txt`がページ単位で表示されるので、内容を確認することができる。

### 2. 任意の行へ移動

例えば、`example.txt`の150行目に移動したい場合は、ファイル閲覧中に以下のように入力する。

```
150g
```

これにより、ファイル内の150行目にジャンプできる。

### 3. 検索操作

ファイル内の「error」という単語を検索する場合、以下のように入力する。

```
/error
```

検索結果がハイライト表示され、該当箇所に移動する。続く `n` または `N` キーで他の検索結果へ移動することができる。

### 4. 編集モードへの移行

ファイルをその場で編集する必要がある場合、閲覧中に `v` キーを押す。これにより、設定されたエディタが起動し、ファイルの編集が可能となる。編集完了後、エディタを終了すれば、再び `less` に戻って閲覧を続けることができる。

