---
title:  【Unix】rmコマンドの解説
published: 2025-02-22
description: ""
tags: [rm]
category: Unix
draft: false
---
最終更新：2025-02-22

`rm`コマンドは、不要なファイルやディレクトリを削除するために使用されるコマンドである。誤って重要なファイルを削除すると復旧困難な場合が多いため、実行の際には十分な注意が必要である。

## 使用方法
```
rm [オプション] [削除対象のファイル/ディレクトリの相対パス or 絶対パス]
```

## オプション

### 1. `-i` (対話的削除)
削除前にユーザーへ確認を求める。ファイルを削除する際の誤操作を防ぐためによく使われる。

例:  
```bash
rm -i file.txt
```
削除を行うごとに「y/n」で尋ねられる。

### 2. `-f` (強制削除)
ファイルの読み取り権限がなくても警告を表示せずに削除する。`-i`オプションとの併用は無効化されるため、やむを得ない場合以外は慎重に使うべきである。

例:  
```bash
rm -f file.txt
```
警告や確認を行わずに強制的に削除する。

### 3. `-r` (再帰的削除)
ディレクトリ以下を再帰的に削除する。中身を含め、すべてのファイルおよびサブディレクトリも削除するため、一度削除したファイルやフォルダは元に戻せないことに留意すべきである。

例:  
```bash
rm -r directory/
```
`-r`無しではディレクトリを削除できない。

### 4. `-v` (詳細表示)
何を削除しているかを逐一表示する。削除結果をわかりやすく確認したいときに便利である。

例:  
```bash
rm -v file.txt
```
削除したファイル名を表示する。


## ハンズオン

ここでは、`rm`コマンドを安全に試すための簡単な例を紹介する。

1. **単一ファイルの削除**
   ```bash
   rm file.txt
   ```
   `file.txt`を削除する。権限エラーや確認は行わず、対象が存在しない場合はエラーメッセージを表示する。

2. **複数ファイルの同時削除**
   ```bash
   rm file1.txt file2.txt file3.txt
   ```
   スペース区切りで複数ファイルを一度に削除できる。ファイルの数が多い場合、誤削除に注意すること。

3. **ディレクトリ全体の削除**
   ```bash
   rm -r target_directory/
   ```
   `target_directory`配下のファイルおよびサブディレクトリも含め、再帰的に削除する。重要ファイルを誤って置いていないか事前確認が必須である。

4. **削除前に確認を求める**
   ```bash
   rm -ir target_directory/
   ```
   `-i`と`-r`の併用により、再帰的に削除しつつ、ファイルごとに削除確認を行う。大量のファイルが含まれるディレクトリを削除する際に誤操作を防げる。

5. **強制削除と詳細表示**
   ```bash
   rm -rfv old_directory/
   ```
   `-r`でディレクトリを再帰削除し、`-f`で強制的に削除（確認を行わない）、`-v`で進捗を表示する。実行時間が長い場合や大容量ディレクトリを扱う場合に、削除状況を確認しやすい。


### 補足
- `rm`は破壊的な操作であり、一度削除したファイルの復元は容易ではない。(Windows OSの場合、削除したファイルはごみ箱に一次的に移されるが、`rm`はそのような機能はない。)
特に`-r`や`-f`を組み合わせて使用する際には削除してあとで困らないかよく考えること。心配な場合は、手間はかかるが、`rm -rf`を使う際にオプション`-i`もつけておくと良い。
