---
title:  【Unix】duコマンドの解説
published: 2025-02-22
description: ""
tags: [du]
category: Unix
draft: false
---
最終更新：2025-02-22

`du`コマンドは、Unix系システムにおいてファイルやディレクトリのディスク使用量を調べるためのコマンドである。サイズが大きいファイルや、どのディレクトリがどの程度の容量を消費しているかを簡単に把握できるため、システムの容量管理などで頻繁に使用される。

du = Disk Usage

## 主なオプション

- `-h` : 人間が読みやすい形式（KB、MBなど）で表示する。  
- `-s` : 合計サイズのみを表示する。  
- `-c` : 合計サイズを最後にまとめて表示する。
- `-a` : ディレクトリだけでなくすべてのファイルを表示する。
- `-B SIZE`, `--block-size=SIZE` : ディスク使用量を`SIZE`byte単位で表示する。
- `-k` : ディスク使用量をKB単位で表示する。（`-B 1024`や`-BK`と同義）
- `-m` : ディスク使用量をMB単位で表示する。（`-B 1048576`や`-BM`と同義）
- `-d N` : 指定した階層レベル（N）まで表示する (`--max-depth=N` と同義。`-s`と同時には使えない。)。  

## 基本構文

```
du [オプション] [ファイルまたはディレクトリ]
```

引数を省略した場合、カレントディレクトリのディスク使用量を表示する。

## ハンズオン

1. **ディレクトリの使用量を人間に読みやすい形式で表示する**

   ```bash
   du -h /path/to/directory
   ```

   このコマンドで、指定ディレクトリのディスク使用量を KB や MB の単位で本格的に確認できる。

2. **サブディレクトリのサイズをまとめて表示する**

   ```bash
   du -h --max-depth=1 /path/to/directory
   ```

   このコマンドはサブディレクトリ1階層分のサイズを表示し、さらに`-h`を指定することで読みやすい単位での表示を行う。

3. **特定のディレクトリ全体の合計サイズを確認する**

   ```bash
   du -sh /path/to/directory
   ```

   `-s`オプションでディレクトリ全体の合計サイズのみを表示し、`-h`オプションにより人間に読みやすい形式で出力する。

4. **ファイルを含むすべての要素を表示する**

   ```bash
   du -ah /path/to/directory
   ```

   ディレクトリだけでなく、ファイル単位で使用量を表示し、容量を詳細に把握できる。

